
## 3.1存储器概述
### A.按存取方式分：
- RAM
- ROM
- SAM（顺序-磁带）
- DAM（直接-磁盘存储器）
### B.断电后是否保存：
- 易失性：断电后存储信息消失，如RAM
- 非易失性：断电后存储信息依旧保存，如ROM、磁盘、磁带、光盘
### C.读出方式：
- 破坏性读出：DRAM
- 非破坏性读出：SRAM
### D.性能指标：
#### D.1储存单元：
- 存储字：一个二进制由若干位组成，这个二进制数作为整体存入或者取出，这个数就是存储字，存储字的长度取决于MDR。
- 存储单元：存储体的组成单位。存储单元的个数取决于MAR的次方。
- 一个存储单元可以存放一个字，也可以存放一个字节。
#### D.2编址和寻址：
- 地址：存储单元的编号，用于区别存储体中的若干存储单元。
- 编址：给每个房间编号
  - 字节编址：最小寻址单位是一个字节。
  - 字编址：最小寻址单元是一个字。
- 寻址：根据地址找到存储单元的过程。
#### D.3存储容量：
- 存储单元的个数 x 每个单元的比特数（如果是按字节编址则为存储单元个数x8，如果是按字编址则为存储单元个数x字中的比特数）。
#### D.4存取时间（很少用）：
- T_A：存储器接到读命令到信息被送到数据线上的时间。
- T_W：存储器接到写命令到信息被写入存储器的时间。
#### D.5存取周期（T_M）：
- T_M > T_A
- T_M > T_W
- 一个访问时间与一个恢复时间构成一个存取周期。
## 3.2主存：
### A.DRAM工作原理：

- 写入：MOS管接通+电容存入电荷。
- 读出：MOS管放开+电容电荷流失+信号放大器感知+计算机了解该位数据已读出。
- 问题：读出是破坏性的，因此需要再生。
### B.DRAM VS SRAM：
| 特征       | SRAM         | DRAM       |
| ---------- | ------------ | ---------- |
| 构成       | 双稳态触发器 | 电容       |
| 破坏性读出 | 否           | 是         |
| 再生       | 不需要       | 需要       |
| 易失性     | 是           | 是         |
| 送行列地址 | 同时送       | 行列分开送 |
| 地址复用   | 否           | 是         |
| 速度       | 快           | 慢         |
| 刷新       | 不需要       | 需要       |
| 集成度     | 低           | 高         |
| 功耗       | 高           | 低         |
| 价格       | 高           | 低         |
### C.半导体存储芯片：

![image-20241212190116335](./assets/image-20241212190116335.png)

![image-20241212190105872](./assets/image-20241212190105872-1734001266987-1.png)

![image-20241212190253813](./assets/image-20241212190253813.png)

- 基本结构：译码驱动电路 -> 存储矩阵 -> 读写电路
  - 译码驱动电路：与地址线连接，负责将地址信号转换为特定存储单元选择信号。
  - 存储矩阵：存储单元的集合。
  - 读写电路：与数据线连接，负责写入或读取数据。
  - 外部相联：
    - 片选线：单向，负责选定要访问的存储器芯片。
    - 读写控制线：单向，负责下达读写命令。
    - 数据线：双向，传递数据。
    - 地址线：单向，将地址传入译码器。
- 译码驱动方式（重要）：
        - 单译码法(线选法)：地址译码器仅有一个
          - 通过n个地址引脚定义一个大小为2^n的地址空间
          - 地址输入线的引脚n=4，经过地址译码器译码，有2^4一共16个状态，对应16个地址。则存储单元的地址为000B~111B
          - 译码后输出的线过多，因此只适合**容量小**的**静态存储器**
      - 双译码法(重合法)：
        - 建立笛卡尔坐标系，实数对(X,Y)唯一确定1个存储单元。X由行地址译码驱动，Y由列地址译码驱动。
        - 输入端为n根引脚，有n/2根行地址线，也就是有2^(n/2)行，有n/2根列地址线，也就是 2^(n/2)列。因此，输出端引脚只需要 2^(n/2)+1个。适合大容量的动态存储器
        - 行缓冲：
        - 位平面：

### D.DRAM的刷新：

#### D.1为什么DRAM要刷新？

因为DRAM的本质是一个MOS管+电容，电容会漏电，因此需要定期充电

#### D.2集中刷新

![image-20241212190534127](./assets/image-20241212190534127.png)

#### D.3分散刷新

![image-20241212190553640](./assets/image-20241212190553640.png)

#### D.4异步刷新

![image-20241212190606846](./assets/image-20241212190606846.png)

## 3.3主存容量扩展以及并行技术

### A.扩展技术

#### A.1位扩展：

![image-20241212194252562](./assets/image-20241212194252562.png)

我的需求是：256k x 8

但是我只有八块256k x 1的芯片，那么我会在横向上进行拼接

#### A.2字扩展：

如何理解字：存储体中存储单元的个数。

![image-20241212194553006](./assets/image-20241212194553006.png)

![image-20241212194659484](./assets/image-20241212194659484.png)

#### A.3字位扩展

![image-20241212194740076](./assets/image-20241212194740076.png)

![image-20241212194805777](./assets/image-20241212194805777.png)

### B.并行技术

#### B.1双端口

![image-20241212194843231](./assets/image-20241212194843231.png)

#### B.2单体多字存储器

![image-20241212194929735](./assets/image-20241212194929735.png)

#### B.3交叉访问存储器-模块访问

##### B.3.1高位多体交叉

![image-20241212195144916](./assets/image-20241212195144916.png)

##### B.3.2低位多体交叉(重要)

![image-20241212195228064](./assets/image-20241212195228064.png)

##### B.3.3轮流启动

![image-20241212195430414](./assets/image-20241212195430414.png)

##### B.3.4同时启动

![image-20241212195529048](./assets/image-20241212195529048.png)

### C.字位扩展技术与并行技术总结

![image-20241212195559713](./assets/image-20241212195559713.png)

## 3.4外部存储器

### A.磁盘存储

#### A.1组成

**盘片、盘面**

![image-20241212201151008](./assets/image-20241212201151008.png)

**盘面与扇区**

![image-20241212201211836](./assets/image-20241212201211836.png)

**磁头臂**

![image-20241212201631815](./assets/image-20241212201631815.png)

#### A.2存取时间

![image-20241212201646222](./assets/image-20241212201646222.png)

#### A.3地址结构

![image-20241212201803146](./assets/image-20241212201803146.png)

### B.固态硬盘

#### B.1基本结构与工作原理

![image-20241212201929823](./assets/image-20241212201929823.png)

#### B.2读写原理

![image-20241212202035071](./assets/image-20241212202035071.png)

#### B.3磨损均衡技术

原因是：不希望某一块闪存中的块被反复擦除(因为SSD写入需要擦除旧的内容)

![image-20241212202215611](./assets/image-20241212202215611.png)

### C.二者比较

![image-20241212202306823](./assets/image-20241212202306823.png)

## 3.5高速缓存处理器

### A.程序访问的局部性原理

![image-20241212205213141](./assets/image-20241212205213141.png)

![image-20241212205240919](./assets/image-20241212205240919.png)

### B.cache与主存块 

![image-20241212205331638](./assets/image-20241212205331638.png)

### C.cache的有效位

### D.cache的访问过程

### E.cache-主存层次的访问时间

### F.映射方式

### G.替换算法
